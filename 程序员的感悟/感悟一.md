> 本章节中，我们将随意探讨一下程序员编码准则吧！

### 故事背景

    去年加入一家创业公司后，公司的主要是业务是数字化临床研究防线的。开始接触了业务开发。看了业务小伙伴的代码，一团糟。哎！下面我讲一下我个人的一些编码准则吧！

### 定位

    在编码中，大家一定要把自己定义：`<font color='green'>`**雕刻手艺人 `</font>`**。是靠手艺慢慢的才能雕刻出满意的作品！

### 原则

- 简单！高效！零基础快速上手！系统越来越好!

### 规则

- 文档重要性：

  - 学习本系统的业务逻辑的时候！雁过留毛！顺便留下几行字也行！一个系统的稳固！需要大家的小手！
- 维护代码：

  - 留下本系统的启动方式。比如如何启动的！
  - 如何快速定位问题。
  - 代码一定要留下单元测试！这个可是重构的好帮手！
  - 测试环境的机器怎么查看日志，日志的路径是啥？
- 需求开发：

  - 每次需求发布后，需要在本业务系统对应的文档系统（比如飞书）做了哪些SQL的改动！重大逻辑改动！
  - 需求开发的时候，如果发现旁边的代码有小瑕疵！麻烦修修！动动小手！炸不了锅的！总比最后代码是一堆破铜烂铁要强！
  - 在每一个需求文档后面，贴上此需求使用的接口文档地址，@指定人。
- 提交代码：

  - 提交代码的时候，提交内容使用的模板尤其重要！先是bug?特性？需求版本号，模块，变更了啥。比如模板，让人很清晰的看到，变更了啥。后面追溯、定位问题也很快

    ```text
    特性：需求
    版本号：1.5.3
    模块：登录模块
    变更详情：修改了密码校验规则。
    issue链接：http://xxx.com
    ```
- 重构：

  - 可以适当的重构，大方法变小方法，最后再是逻辑的重构！先把几公里长的代码，浓缩成一本书的目录结构，让大家看到目录就能掌握基本框架！
  - 编码的时候，如果看到旁边的代码，没有加上日志或者监控！动动小手！加上日志！加上监控！功德无量！
- 代码注释

  - 一定要留一下一些注释！目的就是让接收人立马吸收掌握！
  - 一定要善于使用 java 的 {@link} 这个 java doc 注解！可以让我们看代码自由的跳转！而不必每次都搜索！
- 代码：

  - 代码不要写几公里长！神龙不见尾巴，理不清！看到末尾的时候！天都黑了！都理解不了！
  - 方法之间的调用，最好都放在一块，看代码比较舒服！不要一个在北边！一个在南边！特别是定位问题的时候的，真的是想！
  - 代码不要胡乱串！归归类好！比如有一些在 controller 里面直接用 mapper ，现在用得爽！后面该bug就知道痛苦了！
- 框架层：

  - 原则是：简单高效即可！别整哪些乱七八糟的！比如，我最喜欢的是 mybatis 的 XML ，看起来多清晰！MyBatis 的 注解方式，我实在理解不了这个东西的存在！
  - 不要使用多个版本的工具类！比如 commons-lang 好几个版本一块使用！
- Jar 依赖

  - 原则是：现在父pom定义，子pom 引用！不要胡乱串！
- 代码分支：

  - 一定是有意义的！比如需求版本号！不要随便一个。最好分支前面都要带上版本号！
- 前后端交互：

  - 如果需要接口的话，千万别手工维护接口文档！比如使用业界的 swagger。
  - 在一些 to b的系统中，一般是没有全链路跟踪系统的，麻烦在系统中加上这个组件，排查问题的好帮手！
